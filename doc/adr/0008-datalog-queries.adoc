# 8. Datalog queries

Date: 2021-09-09

## Status

Proposed

## Context

XTDB should support graph queries via Datalog.

## Decision

We will support (a subset) of
https://docs.datomic.com/on-prem/query/query.html#query[EDN Datalog].

There will be a Clojure API and we want to maintain a reasonable level
of link:0003-backwards-compatibility.adoc[compatibility with classic]

## Consequences

All processing needs to map down to the internal
link:0002-data-model.adoc[data model]. This needs to be balanced with
classic features and link:0007-sql-queries.adoc[SQL].

As the internal data model stores lists and doesn't flatten
cardinality-many values, we will need an unnest operator to do this if
we want EDN Datalog (SPARQL) behaviour.
